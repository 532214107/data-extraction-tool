(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8117f4d2"],{"01fc":function(t,e,i){},"152d":function(t,e,i){"use strict";var s=i("01fc"),a=i.n(s);a.a},"186d":function(t,e,i){"use strict";var s=i("2bb3"),a=i.n(s);a.a},"222e":function(t,e,i){"use strict";var s=i("4dd3"),a=i.n(s);a.a},"2bb3":function(t,e,i){},"3b08":function(t,e,i){},"3cee":function(t,e,i){},"41d5":function(t,e,i){"use strict";var s=i("ed3c"),a=i.n(s);a.a},"4dd3":function(t,e,i){},"4de4":function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").filter,n=i("1dde"),r=i("ae40"),l=n("filter"),c=r("filter");s({target:"Array",proto:!0,forced:!l||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"55bd":function(t,e,i){"use strict";var s=i("3cee"),a=i.n(s);a.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var s=i("1d80"),a=i("5899"),n="["+a+"]",r=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),c=function(t){return function(e){var i=String(s(e));return 1&t&&(i=i.replace(r,"")),2&t&&(i=i.replace(l,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,i){var s=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var n,r;return a&&"function"==typeof(n=e.constructor)&&n!==i&&s(r=n.prototype)&&r!==i.prototype&&a(t,r),t}},"79f3":function(t,e,i){},8895:function(t,e,i){},"99af":function(t,e,i){"use strict";var s=i("23e7"),a=i("d039"),n=i("e8b5"),r=i("861d"),l=i("7b0b"),c=i("50c4"),o=i("8418"),u=i("65f0"),d=i("1dde"),f=i("b622"),p=i("2d00"),h=f("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",m=p>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),_=d("concat"),g=function(t){if(!r(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},y=!m||!_;s({target:"Array",proto:!0,forced:y},{concat:function(t){var e,i,s,a,n,r=l(this),d=u(r,0),f=0;for(e=-1,s=arguments.length;e<s;e++)if(n=-1===e?r:arguments[e],g(n)){if(a=c(n.length),f+a>b)throw TypeError(v);for(i=0;i<a;i++,f++)i in n&&o(d,f,n[i])}else{if(f>=b)throw TypeError(v);o(d,f++,n)}return d.length=f,d}})},"9b3a":function(t,e,i){"use strict";var s=i("fa95"),a=i.n(s);a.a},"9e20":function(t,e,i){"use strict";var s=i("79f3"),a=i.n(s);a.a},a14e:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"stepBpx"},[i("step-box",{attrs:{active:t.active}})],1),i("div",{staticClass:"content"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.active,expression:"active == 0"}],staticClass:"itemBox"},[i("data-preparation",{ref:"preparation",on:{getTableList:t.getTableList}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.active,expression:"active == 1"}],staticClass:"itemBox"},[i("entity-standard",{ref:"entity"})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active == 2"}],staticClass:"itemBox"},[i("relation-aggregation",{ref:"relation"})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.active,expression:"active == 3"}],staticClass:"itemBox"},[i("data-acquisition",{ref:"acquisition"})],1)]),i("div",{staticClass:"buttonBox"},[i("el-button",{attrs:{type:"primary",disabled:0==t.active},on:{click:t.last}},[t._v("上一步")]),i("el-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v(t._s(t.text))])],1)])},a=[],n=(i("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-steps",{attrs:{active:t.active,"align-center":""}},[i("el-step",{attrs:{title:"数据准备"}}),i("el-step",{attrs:{title:"实体规范"}}),i("el-step",{attrs:{title:"关系聚合"}}),i("el-step",{attrs:{title:"数据获取"}})],1)],1)}),r=[],l={name:"steps",props:{active:{default:function(){return 1}}}},c=l,o=i("2877"),u=Object(o["a"])(c,n,r,!1,null,null,null),d=u.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"leftBox"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("查询&上传文件")])]),i("div",{staticClass:"leftTop"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{size:"small",placeholder:"请输入任务ID"},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}})],1),i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.search}},[t._v("查询")])],1)],1)],1),i("div",{staticClass:"leftBottom"},[i("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{drag:"",accept:".xls,.xlsx,.csv",action:"/api/schema_file_upload/",multiple:"","on-success":t.success}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xls/.xlsx/.csv文件")])])],1)])],1),i("div",{staticClass:"rightBox"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("领域类别关系")])]),i("div",{staticStyle:{height:"calc(100% - 60px)"}},[i("el-scrollbar",{staticClass:"tab_scroll",staticStyle:{height:"100%"}},[t._l(t.tableList,(function(e,s){return i("div",{key:s,staticClass:"listBox"},[i("div",{staticClass:"entity1"},[t._v(t._s(e.subject_type)+"("+t._s(e.subject_en_abbr)+")")]),i("div",{staticClass:"relation"},[t._v(t._s(e.predicate))]),i("div",{staticClass:"entity2"},[t._v(t._s(e.object_type)+"("+t._s(e.object_en_abbr)+")")]),i("div",{staticClass:"operation",on:{click:function(i){return t.operation(e,s)}}},[t._v("操作")])])})),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.tableList.length,expression:"tableList.length == 0"}],staticClass:"listBox"},[i("div",{staticStyle:{width:"100%"}},[t._v("请上传文件或通过id检索")])])],2)],1)])],1),i("el-dialog",{attrs:{title:t.formText,visible:t.dialogVisible,width:"50%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{label:"实体1",prop:"object_type","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.object_type,callback:function(e){t.$set(t.form,"object_type",e)},expression:"form.object_type"}})],1),i("el-form-item",{attrs:{label:"实体1标签",prop:"object_en_abbr","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.object_en_abbr,callback:function(e){t.$set(t.form,"object_en_abbr",e)},expression:"form.object_en_abbr"}})],1),i("el-form-item",{attrs:{label:"关系类型",prop:"predicate","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.predicate,callback:function(e){t.$set(t.form,"predicate",e)},expression:"form.predicate"}})],1),i("el-form-item",{attrs:{label:"实体2",prop:"subject_type","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.subject_type,callback:function(e){t.$set(t.form,"subject_type",e)},expression:"form.subject_type"}})],1),i("el-form-item",{attrs:{label:"实体2标签",prop:"subject_en_abbr","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.subject_en_abbr,callback:function(e){t.$set(t.form,"subject_en_abbr",e)},expression:"form.subject_en_abbr"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)],1)],1)},p=[];i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("159b");function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m=i("365c"),_={name:"dataPreparation",data:function(){return{dynamicTags:["人物领域","人才领域","历史领域","航信领域"],inputVisible:!1,inputValue:"",tableList:[],dialogVisible:!1,form:{object_type:null,object_en_abbr:null,predicate:null,subject_type:null,subject_en_abbr:null},rules:{object_type:[{required:!0,message:"请输入实体1",trigger:"blur"}],object_en_abbr:[{required:!0,message:"请输入实体1标签",trigger:"blur"}],predicate:[{required:!0,message:"请输入关系类型",trigger:"blur"}],subject_type:[{required:!0,message:"请输入实体2",trigger:"blur"}],subject_en_abbr:[{required:!0,message:"请输入实体2标签",trigger:"blur"}]},formLabelWidth:"formLabelWidth",formText:"编辑",actionIndex:null,inputText:""}},mounted:function(){},methods:{init:function(){this.$route.query.id&&this.querySchemaByTaskId(this.$route.query.id)},success:function(t){"success"==t.status&&(this.querySchemaByTaskId(t.result.task_id),this.$refs.uploadFile.clearFiles())},format:function(t){var e=this.actionIndex;this.tableList[e]=t[0],this.actionIndex=null},operation:function(t,e){this.dialogVisible=!0,this.form=t,this.actionIndex=e},handleClose:function(t){this.$confirm("确认关闭？").then((function(){t()})).catch((function(){}))},confirm:function(){var t=this,e=v({},this.form);this.$refs.form.validate((function(i){if(!i)return!1;t.format([e]),t.dialogVisible=!1}))},search:function(){""!=this.inputText?this.querySchemaByTaskId(this.inputText):this.$message({type:"error",message:"请输入用户ID"})},querySchemaByTaskId:function(t){var e=this;Object(m["h"])({task_id:t}).then((function(i){var s=e.$route.query.id;s!=t&&e.$router.push({query:{active:0,id:t}}),"success"==i.status&&(e.$emit("getTableList",i.result.schema.length,t),e.tableList=i.result.schema)}))}}},g=_,y=(i("222e"),Object(o["a"])(g,f,p,!1,null,"7f4b332b",null)),k=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"entityStandardBody"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:5}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("待规范实体类别")]),i("ul",{staticClass:"c_list"},t._l(t.list,(function(e){return i("li",{key:e.title,staticClass:"c_item",class:{action:e.title==t.actionTitle},on:{click:function(i){return t.clickListItem(e)}}},[t._v(t._s(e.title))])})),0)])]),i("el-col",{attrs:{span:5}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("已规范实体类别")]),i("ul",{staticClass:"c_list"},t._l(t.list1,(function(e){return i("li",{key:e.title,staticClass:"c_item",on:{click:function(i){return t.hanldListItem1(e)}}},[t._v(t._s(e.title))])})),0)])]),i("el-col",{attrs:{span:14}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"firstTitle"},[i("p",{staticClass:"c_header"},[t._v("LAYER1")]),i("div",{staticClass:"LAYER1Box"},[i("el-scrollbar",{staticClass:"tab_scroll",staticStyle:{height:"100%"}},[i("div",{staticClass:"LAYER1Content"},t._l(t.Layer1List,(function(e,s){return i("span",{key:e[0],class:{action:t.actionIndex==s},on:{click:function(i){return t.hanldLayer1(e[0],s)}}},[t._v(t._s(e[0])+"("+t._s(e[1])+")")])})),0)])],1)]),i("div",{staticClass:"secondTitle"},[i("p",{staticClass:"c_header"},[t._v("LAYER2")]),i("div",{staticClass:"LAYER1Box"},[i("el-scrollbar",{staticClass:"tab_scroll",staticStyle:{height:"100%"}},[i("div",{staticClass:"LAYER1Content"},t._l(t.Layer2List,(function(e){return i("span",{key:e[0],on:{click:function(i){return t.hanldLayer2(e[0])}}},[t._v(t._s(e[0])+"("+t._s(e[1])+")")])})),0)])],1)]),i("div",{staticClass:"secondTitle"},[i("p",{staticClass:"c_header"},[t._v(t._s(t.actionTitle)+" "),i("span",{staticClass:"subtitle"},[t._v("1.选择待规范实体2.添加添加label添加标签3.添加完成后点击保存")])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loding,expression:"loding"}],staticClass:"LAYER1Box"},[i("el-scrollbar",{staticClass:"tab_scroll",staticStyle:{height:"calc(100% - 30px)"}},[i("div",{staticClass:"LAYER1Content"},t._l(t.PERlist,(function(e){return i("el-tag",{key:e,attrs:{closable:""},on:{close:function(i){return t.handleTagClose(e)}}},[t._v(" "+t._s(e)+" ")])})),1)]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.save}},[t._v("保存")])],1)])])])],1)],1)},C=[],w=(i("c975"),i("d81d"),i("a434"),{name:"entityStandard",data:function(){return{list:[],list1:[],actionTitle:null,Layer1List:[],Layer2List:[],PERlist:[],actionIndex:null,task_id:null,loding:!1}},methods:{clickListItem:function(t){this.actionTitle=t.title},hanldListItem1:function(t){this.actionTitle=t.title,this.PERlist=t.words},getLabelSchema:function(t){var e=this;null==t?Object(m["d"])(null,"post").then((function(t){"success"==t.status?e.Layer1List=t.result.ROOT:console.log("获取label接口有问题!!!")})):Object(m["d"])({label:t},"get").then((function(i){"success"==i.status?e.Layer2List=i.result[t]:console.log("获取label接口有问题!!!")}))},hanldLayer1:function(t,e){this.actionIndex=e,this.getLabelSchema(t);var i=this.PERlist.indexOf(t);-1==i&&this.PERlist.push(t)},hanldLayer2:function(t){var e=this.PERlist.indexOf(t);-1==e&&this.PERlist.push(t)},handleTagClose:function(t){this.PERlist.splice(this.PERlist.indexOf(t),1)},save:function(){var t=this;if(this.actionTitle&&this.PERlist.length>0){this.loding=!0;var e=new FormData,i={};i.enti_type=this.actionTitle,i.tag_list=this.PERlist,e.append("data",JSON.stringify([i])),e.append("task_id",this.task_id),Object(m["i"])(e).then((function(e){t.loding=!1,t.actionTitle=null,t.PERlist=[];var i=e.result;t.formatList(i)}))}},getRegulatedEntities:function(){var t=this,e=new FormData;e.append("task_id",this.task_id),Object(m["e"])(e).then((function(e){var i=e.result;t.formatList(i)}))},formatList:function(t){this.list1=t.regulated_entities.map((function(t){var e={};return e.title=Object.keys(t)[0],e.words=t[Object.keys(t)[0]],e})),this.list=t.unregulated_entities.map((function(t){var e={};return e.title=Object.keys(t)[0],e.words=t[Object.keys(t)[0]],e}))},init:function(){this.task_id=this.$route.query.id,this.getLabelSchema(null),this.getRegulatedEntities()},isNext:function(){if(0==this.list.length)return!0}}}),j=w,O=(i("cf1b"),i("9e20"),Object(o["a"])(j,x,C,!1,null,"8448debc",null)),T=O.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"relationAhhregationBody"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("待聚合关系类别")]),i("ul",{staticClass:"c_list"},t._l(t.list,(function(e,s){return i("li",{key:s,class:{action:e.name==t.actionIndex},on:{click:function(i){return t.clickListItem(e)}}},[i("div",[t._v(t._s(e.name))])])})),0)])]),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("已聚合关系类别")]),i("ul",{staticClass:"c_list"},t._l(t.list1,(function(e,s){return i("li",{key:s},[i("div",{on:{click:function(i){return t.clickListItem1(e)}}},[t._v(t._s(e.name))])])})),0)])]),i("el-col",{attrs:{span:8}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"centent"},[i("div",{staticClass:"firstTitle"},[i("p",{staticClass:"c_header"},[t._v("关系词聚合")]),i("p",{staticClass:"f_title"},[t._v(t._s(t.f_title))]),i("div",{staticClass:"labels"},[t.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm(e)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")]),t._l(t.dynamicTags,(function(e){return i("el-tag",{key:e,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return t.handleClose(e)}}},[t._v(" "+t._s(e)+" ")])})),t._l(t.newTagss,(function(e,s){return i("el-tag",{key:s,attrs:{closable:"",type:"success"},on:{close:function(i){return t.handleClose1(e)}}},[t._v(" "+t._s(e)+" ")])}))],2),i("div",[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:t.save}},[t._v("保存")])],1)]),i("div",{staticClass:"secondTitle"},[i("p",[t._v("通过HIT同义词词林为您找到关系同义词如下，点击聚合到该关系类型下：")]),i("div",{staticClass:"labels"},t._l(t.newTags,(function(e,s){return i("el-tag",{key:s,staticClass:"pointer",attrs:{type:"success"},on:{click:function(i){return t.addTags(e)}}},[t._v(" "+t._s(e)+" ")])})),1)])])])],1)],1)},L=[],I=(i("99af"),i("b0c0"),i("2909")),S={name:"relationAhhregation",data:function(){return{list:[],list1:[],actionIndex:null,dynamicTags:[],newTags:[],newTagss:[],inputVisible:!1,inputValue:"",task_id:null,f_title:"请选择需要聚合的词",loading:!1}},methods:{init:function(){this.task_id=this.$route.query.id,this.getRegulatedPredicateType()},getRegulatedPredicateType:function(){var t=this,e=new FormData;e.append("task_id",this.task_id),Object(m["f"])(e).then((function(e){var i=e.result,s=i.regulated_predicates,a=i.unregulated_predicates;t.list=a.map((function(t){return Object.keys(t)[0],{name:Object.keys(t)[0],arr:t[Object.keys(t)[0]]}})),t.list1=s.map((function(t){return Object.keys(t)[0],{name:Object.keys(t)[0],arr:t[Object.keys(t)[0]]}}))}))},getSynonym:function(t){var e=this;Object(m["k"])({word:t}).then((function(t){e.loading=!1;var i=t.result,s=i.synonym_words,a=i.synonym_class_words,n=i.word;e.dynamicTags=s,e.newTags=a,e.f_title=n}))},clickListItem:function(t){this.loading=!0,this.actionIndex=t.name,this.getSynonym(t.name)},clickListItem1:function(t){this.getSynonym(t.name)},save:function(){var t=this;this.loading=!0;var e=new FormData,i={};i.predicate=this.f_title,i.synonym_list=[].concat(Object(I["a"])(this.dynamicTags),Object(I["a"])(this.newTagss),[this.f_title]),e.append("task_id",this.task_id),e.append("data",JSON.stringify([i])),Object(m["j"])(e).then((function(e){t.loading=!1,t.dynamicTags=[],t.newTags=[],t.newTagss=[],t.f_title="请选择需要聚合的词";var i=e.result,s=i.regulated_predicates,a=i.unregulated_predicates;t.list=a.map((function(t){return Object.keys(t)[0],{name:Object.keys(t)[0],arr:t[Object.keys(t)[0]]}})),t.list1=s.map((function(t){return Object.keys(t)[0],{name:Object.keys(t)[0],arr:t[Object.keys(t)[0]]}}))}))},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;t&&this.dynamicTags.push(t),this.inputVisible=!1,this.inputValue=""},addTags:function(t){this.newTags.splice(this.newTags.indexOf(t),1),this.newTagss.push(t)},handleClose1:function(t){this.newTagss.splice(this.newTagss.indexOf(t),1),this.newTags.unshift(t)},isNext:function(){if(0==this.list.length)return!0}}},$=S,R=(i("9b3a"),i("186d"),Object(o["a"])($,E,L,!1,null,"2eab5b8a",null)),N=R.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dataAcquisitionBody"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("当前领域：计算机历史")]),i("ul",{staticClass:"c_list"},t._l(t.list,(function(e,s){return i("li",{key:s,class:{action:s==t.actionIndex},on:{click:function(e){return t.clickListItem(s)}}},[i("div",[t._v(t._s(e.subject_type)+"("+t._s(e.subject_en_abbr)+")")]),i("div",[t._v(t._s(e.predicate))]),i("div",[t._v(t._s(e.object_type)+"("+t._s(e.object_en_abbr)+")")])])})),0)])]),i("el-col",{attrs:{span:16}},[i("div",{staticClass:"centent"},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"200px"}},[i("el-form-item",{attrs:{label:"带获取的种子来源："}},[i("el-checkbox-group",{model:{value:t.form.seedSource,callback:function(e){t.$set(t.form,"seedSource",e)},expression:"form.seedSource"}},[i("el-checkbox",{attrs:{label:"知行中文图谱",value:"0"}})],1)],1),i("el-form-item",{attrs:{label:"语料来源"}},[i("el-select",{attrs:{placeholder:"请选择语料来源"},model:{value:t.form.corpusSource,callback:function(e){t.$set(t.form,"corpusSource",e)},expression:"form.corpusSource"}},[i("el-option",{attrs:{label:"百度百科",value:"0"}}),i("el-option",{attrs:{label:"百度新闻",value:"1"}}),i("el-option",{attrs:{label:"新浪新闻",value:"2"}}),i("el-option",{attrs:{label:"央视新闻",value:"3"}}),i("el-option",{attrs:{label:"搜狗新闻",value:"4"}})],1)],1),i("el-form-item",{attrs:{label:"数据集格式"}},[i("el-select",{attrs:{placeholder:"请选择数据集格式"},model:{value:t.form.DSFormat,callback:function(e){t.$set(t.form,"DSFormat",e)},expression:"form.DSFormat"}},[i("el-option",{attrs:{label:"BAG_LEVEL",value:"0"}}),i("el-option",{attrs:{label:"SENTENCE_LEVEL",value:"1"}})],1)],1),i("el-form-item",{attrs:{label:"语料去噪方法"}},[i("el-select",{attrs:{placeholder:"请选择语料去噪方法"},model:{value:t.form.corpusDenoisingFormat,callback:function(e){t.$set(t.form,"corpusDenoisingFormat",e)},expression:"form.corpusDenoisingFormat"}},[i("el-option",{attrs:{label:"关键词法",value:"0"}}),i("el-option",{attrs:{label:"实体距离法",value:"1"}})],1)],1)],1)],1)])],1)],1)},q=[],A={name:"dataAcquisition",data:function(){return{list:[{left:"PER",center:"工作单位",right:"ORG"},{left:"PER",center:"工作单位",right:"ORG"},{left:"PER",center:"工作单位",right:"ORG"}],list1:[{left:"WJ",center:"研制者",right:"PER"}],actionIndex:null,form:{seedSource:["知行中文图谱"],corpusSource:"0",DSFormat:"0",corpusDenoisingFormat:"0"},task_id:null}},methods:{clickListItem:function(t){this.actionIndex=t},querySchemaByTaskId:function(t){var e=this;Object(m["h"])({task_id:t}).then((function(i){var s=e.$route.query.id;s!=t&&e.$router.push({query:{active:0,id:t}}),"success"==i.status&&(e.$emit("getTableList",i.result.schema.length,t),e.list=i.result.schema)}))},init:function(){this.task_id=this.$route.query.id,this.querySchemaByTaskId(this.task_id)},save:function(){var t=this,e=new FormData;e.append("task_id",this.task_id),e.append("seeds_source",this.form.seedSource),e.append("corpus_source",this.form.corpusSource),e.append("dataset_pattern",this.form.DSFormat),e.append("denoise_method",this.form.corpusDenoisingFormat),Object(m["l"])(e).then((function(e){t.$router.push({path:"alreadyExisted"})}))}}},D=A,B=(i("55bd"),i("e0b5"),Object(o["a"])(D,P,q,!1,null,"1bcd8c0a",null)),F=B.exports,V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"workingBody"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"centent"},[i("div",{staticClass:"c_header"},[t._v("当前领域：计算机历史")]),i("ul",{staticClass:"c_list"},t._l(t.list,(function(e,s){return i("li",{key:s,class:{action:s==t.actionIndex},on:{click:function(e){return t.clickListItem(s)}}},[i("div",[t._v(t._s(e.left))]),i("div",[t._v(t._s(e.center))]),i("div",[t._v(t._s(e.right))])])})),0)])]),i("el-col",{attrs:{span:16}},[i("div",{staticClass:"centent"})])],1)],1)},G=[],W={name:"working",data:function(){return{list:[{left:"PER",center:"工作单位",right:"ORG"},{left:"PER",center:"工作单位",right:"ORG"},{left:"PER",center:"工作单位",right:"ORG"}],list1:[{left:"WJ",center:"研制者",right:"PER"}],actionIndex:null,form:{seedSource:"",corpusSource:"",DSFormat:"",corpusDenoisingFormat:""}}},methods:{clickListItem:function(t){this.actionIndex=t}}},Y=W,M=(i("152d"),i("41d5"),Object(o["a"])(Y,V,G,!1,null,"77557c95",null)),z=M.exports,J={name:"index",components:{StepBox:d,DataPreparation:k,EntityStandard:T,RelationAggregation:N,DataAcquisition:F,WorkingPage:z},data:function(){return{active:0,text:"下一步",isNext:!0,task_id:null}},mounted:function(){this.$route.query.active>=0&&(this.active=Number(this.$route.query.active)),0==this.active&&this.$refs.preparation.init()},methods:{next:function(){"开始"!=this.text?1!=this.active||this.$refs.entity.isNext()?2!=this.active||this.$refs.relation.isNext()?this.isNext?this.active<=4&&(this.active++,this.$router.push({query:{active:this.active,id:this.$route.query.id}})):this.$message({type:"warning",message:"请先上传文件或通过id查询领域类别关系"}):this.$message({type:"warning",message:"请先将所有类别聚合完成后点击下一步"}):this.$message({type:"warning",message:"请先将所有实体规范"}):this.$refs.acquisition.save()},last:function(){this.active>=1&&(this.active--,this.$router.push({query:{active:this.active,id:this.$route.query.id}}))},getTableList:function(t,e){t>0&&(this.isNext=!0,this.task_id=e)},init:function(t){switch(t){case 0:this.$refs.preparation.init();break;case 1:this.$refs.entity.init();break;case 2:this.$refs.relation.init();break;case 3:this.$refs.acquisition.init();break}},watchActive:function(t){this.text=3==t?"开始":"下一步",this.init(t)}},watch:{active:{handler:"watchActive"}}},U=J,X=(i("e210"),Object(o["a"])(U,s,a,!1,null,"a504c51a",null)),H=X.exports;e["default"]=H},a434:function(t,e,i){"use strict";var s=i("23e7"),a=i("23cb"),n=i("a691"),r=i("50c4"),l=i("7b0b"),c=i("65f0"),o=i("8418"),u=i("1dde"),d=i("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,b=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var i,s,u,d,f,p,_=l(this),g=r(_.length),y=a(t,g),k=arguments.length;if(0===k?i=s=0:1===k?(i=0,s=g-y):(i=k-2,s=b(h(n(e),0),g-y)),g+i-s>v)throw TypeError(m);for(u=c(_,s),d=0;d<s;d++)f=y+d,f in _&&o(u,d,_[f]);if(u.length=s,i<s){for(d=y;d<g-s;d++)f=d+s,p=d+i,f in _?_[p]=_[f]:delete _[p];for(d=g;d>g-s+i;d--)delete _[d-1]}else if(i>s)for(d=g-s;d>y;d--)f=d+s-1,p=d+i-1,f in _?_[p]=_[f]:delete _[p];for(d=0;d<i;d++)_[d+y]=arguments[d+2];return _.length=g-s+i,u}})},a9e3:function(t,e,i){"use strict";var s=i("83ab"),a=i("da84"),n=i("94ca"),r=i("6eeb"),l=i("5135"),c=i("c6b6"),o=i("7156"),u=i("c04e"),d=i("d039"),f=i("7c73"),p=i("241c").f,h=i("06cf").f,b=i("9bf2").f,v=i("58a8").trim,m="Number",_=a[m],g=_.prototype,y=c(f(g))==m,k=function(t){var e,i,s,a,n,r,l,c,o=u(t,!1);if("string"==typeof o&&o.length>2)if(o=v(o),e=o.charCodeAt(0),43===e||45===e){if(i=o.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(o.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+o}for(n=o.slice(2),r=n.length,l=0;l<r;l++)if(c=n.charCodeAt(l),c<48||c>a)return NaN;return parseInt(n,s)}return+o};if(n(m,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var x,C=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof C&&(y?d((function(){g.valueOf.call(i)})):c(i)!=m)?o(new _(k(e)),i,C):k(e)},w=s?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;w.length>j;j++)l(_,x=w[j])&&!l(C,x)&&b(C,x,h(_,x));C.prototype=g,g.constructor=C,r(a,m,C)}},b64b:function(t,e,i){var s=i("23e7"),a=i("7b0b"),n=i("df75"),r=i("d039"),l=r((function(){n(1)}));s({target:"Object",stat:!0,forced:l},{keys:function(t){return n(a(t))}})},b98a:function(t,e,i){},cf1b:function(t,e,i){"use strict";var s=i("b98a"),a=i.n(s);a.a},dbb4:function(t,e,i){var s=i("23e7"),a=i("83ab"),n=i("56ef"),r=i("fc6a"),l=i("06cf"),c=i("8418");s({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,i,s=r(t),a=l.f,o=n(s),u={},d=0;while(o.length>d)i=a(s,e=o[d++]),void 0!==i&&c(u,e,i);return u}})},e0b5:function(t,e,i){"use strict";var s=i("8895"),a=i.n(s);a.a},e210:function(t,e,i){"use strict";var s=i("3b08"),a=i.n(s);a.a},e439:function(t,e,i){var s=i("23e7"),a=i("d039"),n=i("fc6a"),r=i("06cf").f,l=i("83ab"),c=a((function(){r(1)})),o=!l||c;s({target:"Object",stat:!0,forced:o,sham:!l},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})},ed3c:function(t,e,i){},fa95:function(t,e,i){}}]);